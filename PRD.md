# PRD

## 项目目标
在 macOS 上提供一个始终置顶的桌面悬浮窗，以“古典麦浪”形式实时可视化系统音乐节奏，并可选显示曲目信息。

## 不做的事
- 不破解/绕过任何音乐平台限制
- 不下载/存储任何歌曲音频文件
- 不绑定特定播放器
- 不提供复杂播放器控制（切歌、搜歌等）

## 核心体验
- 悬浮窗：透明、无边框、置顶，可拖拽移动
- 古典麦浪：波浪从左到右传播，具有丝带感
- 重节奏增强：低频/重拍时起伏明显加剧，静音时保留微弱呼吸

## 功能需求（自然语言）
- 启动即显示悬浮窗，支持显示/隐藏与拖拽移动，可选调整尺寸
- 实时获取系统正在输出的音频能量变化，驱动波浪振幅与速度
- 低频/重拍时波浪更高、更锐，普通节拍保持平稳传播
- 支持在可获取时展示曲目标题/艺术家/封面；不可获取时自动隐藏信息区
- 提供菜单栏入口与基础设置（显示/隐藏、灵敏度、主题样式、帧率模式、开机启动可选）

## 降级策略
- 无法获取曲目信息时，仅显示波浪且不影响运行
- 无法获取系统音频时，波浪进入低幅度“呼吸”模式并保持稳定
- 任何信息缺失都不阻断主体验（悬浮窗 + 波浪）

## 验收标准
- 打开应用即出现悬浮窗，动画稳定流畅
- 播放音乐时波浪随节奏明显变化，重低音有可感知增强
- 静音或暂停后波浪在短时间内回落到低幅度但不完全停止
- 可获取曲目信息时 1 秒内更新；不可获取时界面不闪烁、不报错
- 不抓歌、不存音频、不绕过平台限制，隐私风险可控
